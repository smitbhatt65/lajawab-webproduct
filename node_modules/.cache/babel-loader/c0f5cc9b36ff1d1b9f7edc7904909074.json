{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\smitb\\\\Desktop\\\\edureka internship\\\\edureka-final-project\\\\project_final\\\\project\\\\myapp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\smitb\\\\Desktop\\\\edureka internship\\\\edureka-final-project\\\\project_final\\\\project\\\\myapp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\smitb\\\\Desktop\\\\edureka internship\\\\edureka-final-project\\\\project_final\\\\project\\\\myapp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\smitb\\\\Desktop\\\\edureka internship\\\\edureka-final-project\\\\project_final\\\\project\\\\myapp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';var locurl=\"http://localhost:8900/location\";var resturl=\"http://localhost:8900/restauranthome?city=\";var Search=/*#__PURE__*/function(_Component){_inherits(Search,_Component);var _super=_createSuper(Search);function Search(){var _this;_classCallCheck(this,Search);_this=_super.call(this);_this.handleCity=function(event){_this.setState({restaurants:''});_this.setState({city:event.target.value});var cityid=parseInt(event.target.value);sessionStorage.setItem('citiId',event.target.value);fetch(\"\".concat(resturl).concat(cityid),{method:'GET'}).then(function(res){return res.json();}).then(function(data){_this.setState({restaurants:data});});};_this.renderCity=function(data){if(data){return data.map(function(item){return/*#__PURE__*/React.createElement(\"option\",{value:item.city},item.name);});}};_this.renderRest=function(data){if(data){return data.map(function(item){return/*#__PURE__*/React.createElement(\"option\",{value:item._id},item.name,\" | \",item.locality);});}};_this.handleRestaurant=function(event){console.log(event.target.value);_this.props.restid(Number(event.target.value));};_this.state={location:'',city:'',restaurants:''};return _this;}_createClass(Search,[{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{align:true},/*#__PURE__*/React.createElement(\"center\",null,/*#__PURE__*/React.createElement(\"select\",{onChange:this.handleCity,style:{width:\"180px\",height:\"40px\"}},/*#__PURE__*/React.createElement(\"option\",{value:0},\"select locality\"),this.renderCity(this.state.location)),/*#__PURE__*/React.createElement(\"select\",{id:\"restaurant\",onChange:this.handleRestaurant,style:{width:\"180px\",height:\"40px\"}},/*#__PURE__*/React.createElement(\"option\",{value:0},\"select restaurant\"),this.renderRest(this.state.restaurants))),/*#__PURE__*/React.createElement(\"hr\",null));}},{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;fetch(locurl,{method:'GET'}).then(function(res){return res.json();}).then(function(data){_this2.setState({location:data});});}}]);return Search;}(Component);export default Search;","map":{"version":3,"sources":["C:/Users/smitb/Desktop/edureka internship/edureka-final-project/project_final/project/myapp/src/component/Search.js"],"names":["React","Component","locurl","resturl","Search","handleCity","event","setState","restaurants","city","target","value","cityid","parseInt","sessionStorage","setItem","fetch","method","then","res","json","data","renderCity","map","item","name","renderRest","_id","locality","handleRestaurant","console","log","props","restid","Number","state","location","width","height"],"mappings":"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","sourcesContent":["import React,{Component} from 'react';\n\nconst locurl = \"http://localhost:8900/location\";\nconst resturl = \"http://localhost:8900/restauranthome?city=\";\n\nclass Search extends Component {\n    constructor(){\n        super()\n        this.state={\n            location:'',\n            city:'',\n            restaurants:''\n        }\n    }\n\n    handleCity = (event) => {\n        this.setState({restaurants:''})\n        this.setState({city:event.target.value})\n        var cityid = parseInt(event.target.value)\n        sessionStorage.setItem('citiId',event.target.value)\n        fetch(`${resturl}${cityid}`,{method:'GET'})\n        .then((res) => res.json())\n        .then((data) => {\n            this.setState({restaurants:data})\n        })\n    }\n\n    renderCity = (data) => {\n        if(data){\n            return data.map((item) => {\n                return(\n                    <option value={item.city}>\n                        {item.name}\n                    </option>\n                )\n            })\n        }\n    }\n\n    renderRest = (data) => {\n        if(data){\n            \n            return data.map((item) => {\n                return(\n                    <option value={item._id}>\n                         {item.name} | {item.locality}\n                    </option>\n                )\n            })\n        }\n    }\n\n    handleRestaurant =(event) => {\n        console.log(event.target.value)\n        this.props.restid(Number(event.target.value))\n    }\n\n    render(){\n        return(\n            <div align>\n                <center>\n                    <select onChange={this.handleCity} style={{width:\"180px\",height:\"40px\"}} >\n                    <option value={0}>select locality</option>\n                       {this.renderCity(this.state.location)}\n                    </select>\n                    \n                    <select id=\"restaurant\" onChange={this.handleRestaurant} style={{width:\"180px\",height:\"40px\"}}>\n                    <option value={0}>select restaurant</option>\n                        {this.renderRest(this.state.restaurants)}\n                    </select>\n                </center>\n                <hr/>\n                </div>\n        )\n    }\n\n    componentDidMount(){\n       fetch(locurl,{method:'GET'})\n       .then((res) => res.json())\n       .then((data) => {\n          \n           this.setState({location:data})\n       })\n    }\n    \n}\n\nexport default Search;\n\n"]},"metadata":{},"sourceType":"module"}